---
title: "Gov 50 Final Project"
author: "Heidi Enger"
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---

##Introduction

# Project thoughts

I am interested in exploring data related to U.S. elections, including topics such as online misinformation, voting demographics, and voter turnout. I'm especially interested in examining voter turnout in states which have passed restrictive voting laws in the aftermath of the 2013 Shelby County v. Holder Supreme Court case, which found Section 4 of the Voting Rights Act unconstitutional, allowing states to pass voting laws without being subject to federal review. Restrictive laws include restrictions on mail voting and unreasonably strict voter ID requirements, which disproportionately impact voters of color. These sorts of laws have been adopted by 29 states to date (https://www.brennancenter.org/our-work/analysis-opinion/states-have-added-nearly-100-restrictive-laws-scotus-gutted-voting-rights).

# Proposal

Did restrictive state voting laws after Shelby County vs. Holder (2013) impact voter turnout in the 2016 general election? In this project, I will examine the extent to which restrictive voting laws passed after the Shelby decision impacted voter turnout in applicable states. I hypothesize that voter turnout decreased from 2012 to 2016 in states which passed stricter voter ID and mail-in ballot laws, especially for voters of color. I've chosen a data set with election data from 1948-2020, though I'll only be looking at general election data from 2012 and 2016, since I want to compare across time. The explanatory variable of interest is whether a state passed restrictive voting law(s) or not. I will need to filter to specific states from the data based on information from the Brennan Center (see above). My outcome variable is voter turnout in a given state. If I observe lower voter turnout in 2016 compared to 2012 in states which passed restrictive voting laws, this would provide support for my hypothesis. If I observe higher or similar voter turnout, this would provide evidence against my hypothesis. 

## Milestone 2
```{r}
library(tidyverse)
elections <- read_csv("anes_timeseries.csv", show_col_types = FALSE)

```

## Milestone 3
```{r}
elections <- elections |>
  filter(VCF0004 == 2012 | VCF0004 == 2016)

elections
```


```{r}
elections <- elections |>
  select(VCF0004, VCF0101, VCF0104, VCF0105a, VCF0112, VCF0113, VCF0301, VCF0310, VCF0701, VCF0702, VCF0703, VCF0748, VCF0750, VCF0803, VCF0901a, VCF9150)

#year, respondent age, gender, race, region, political south/nonsouth, party identification, interest in elections, registered to vote, did respondent vote, register and turnout summary, voted on election day or before, voted in person or absentee, liberal/conservative scale, state code, registration status

elections
```

```{r}
elections <- elections |>
  rename(year = VCF0004, age = VCF0101, gender = VCF0104, race = VCF0105a, region = VCF0112, poli_south = VCF0113, party = VCF0301, interest = VCF0310, registered = VCF0701, voted = VCF0702, turnout_summary = VCF0703, vote_day = VCF0748, vote_method = VCF0750, lib_scale = VCF0803, state_fips = VCF0901a)

elections
```

```{r}
elections <- elections |>
  filter(voted == 2 | voted == 1) |>
  mutate(voted_or_not = if_else(voted == 2, 1, 0))

turnout_props <- elections |>
  group_by(year) |>
  summarize(turnout_prop = mean(voted_or_not))

knitr::kable(turnout_props, col.names = c("Year", "Turnout Proportion"))

overall_turnout <- elections |>
  group_by(year) |>
  summarize(turnout_prop = mean(voted_or_not)) |>
  ggplot(mapping = aes(y = turnout_prop)) +
  geom_col(aes(x = year), fill = "blue", width = 2) +
  ylim(0,1) +
  labs(x = "Year", y = "Turnout Proportion", title = "Overall voter turnout in 2012 vs. 2016") +
  annotate(geom = "text", x = 2012, y = 0.83, label = "Prop = 0.799") +
  annotate(geom = "text", x = 2016, y = 0.81, label = "Prop = 0.786")

overall_turnout
```


## Milestone 4

States previously subject to preclearance that enacted restrictive voting laws after Shelby County vs. Holder: South Dakota, New York, North Carolina, South Carolina, Georgia, Florida, Alabama, Mississippi, Louisiana, Texas, and Arizona. 

Source for fips codes: https://transition.fcc.gov/oet/info/maps/census/fips/fips.txt


```{r}
library(ggplot2)

elections <- elections |>
  mutate(new_laws = if_else(state_fips == c(1, 4, 12, 13, 22, 28, 36, 37, 45, 46, 48), "Restrictive laws", "No new laws"))

elections |>
  mutate(vote = if_else(voted_or_not == "yes", 1, 0),
         turnout = mean(vote)) |>
  ggplot(mapping = aes(x = new_laws)) +
  geom_col(mapping = aes(y = turnout)) +
  labs(x = "Whether state passed new restrictive laws", y = "Turnout proportion", title = "Turnout in states that passed restrictive laws vs. states that didn't")

```
The turnout proportion in states that passed new restrictive voting laws was significantly lower than the turnout in states that did not. 





